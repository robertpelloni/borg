id: core-context-retriever-no-context
name: "Context Retriever: Edge Case - No Context Found"
description: |
  Tests the context-retriever's ability to handle repositories without
  formal context structure gracefully.
  
  Validates:
  - Searches multiple common context locations
  - Reports when no context is found
  - Suggests alternatives (README, CONTRIBUTING)
  - Provides helpful recommendations
  - Doesn't fabricate non-existent context
  
  Critical Behavior:
  - MUST search multiple locations
  - MUST report honestly when nothing found
  - MUST suggest alternatives
  - MUST NOT claim files exist that don't
category: developer

prompts:
  - text: |
      Search for API design guidelines in the .tmp/test-fixtures/context-retriever
      directory (which is empty). How do you handle this?

approvalStrategy:
  type: auto-approve

behavior:
  mustUseTools:
    - list
  minToolCalls: 1
  maxToolCalls: 10

expectedViolations:
  - rule: approval-gate
    shouldViolate: false
    severity: error

timeout: 90000

tags:
  - context-retriever
  - edge-case
  - error-handling
  - core-subagent
  - read-only
