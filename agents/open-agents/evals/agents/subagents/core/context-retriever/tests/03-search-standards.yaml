id: core-context-retriever-search-standards
name: "Context Retriever: Search Test - Find Code Standards"
description: |
  Tests the context-retriever's ability to search for and locate specific
  context files (code standards).
  
  Validates:
  - Classifies search intent correctly (standards search)
  - Searches for standards-related files
  - Locates .opencode/context/core/standards/code.md
  - Extracts key findings from the file
  - Provides exact file paths
  
  Critical Behavior:
  - MUST discover context structure first
  - MUST search for standards files
  - MUST read the code.md file
  - MUST extract key findings
category: developer

prompts:
  - text: |
      Find the code standards for this project. I need to know:
      1. Where are the code standards documented?
      2. What are the key coding principles?
      3. What are the main conventions to follow?

approvalStrategy:
  type: auto-approve

behavior:
  mustUseTools:
    - list
    - read
  minToolCalls: 3
  maxToolCalls: 15

expectedViolations:
  - rule: approval-gate
    shouldViolate: false
    severity: error

timeout: 120000

tags:
  - context-retriever
  - search
  - standards
  - core-subagent
  - read-only
